!function(c){woodmartThemeModule.$document.on("wdShopPageInit",function(){woodmartThemeModule.productFilters()}),c.each(["frontend/element_ready/wd_product_filters.default"],function(e,t){woodmartThemeModule.wdElementorAddAction(t,function(){woodmartThemeModule.productFilters()})}),woodmartThemeModule.productFilters=function(){function n(e,t){var a;0!==e.length&&(0<(a=e.val()).indexOf(",")?e.val(a.replace(","+t,"").replace(t+",","")):e.val(a.replace(t,"")))}function s(e){t(e),a(e),woodmartThemeModule.$body.hasClass("woodmart-ajax-shop-on")&&void 0!==c.fn.pjax&&e.hasClass("with-ajax")&&(c.pjax({container:".main-page-wrapper",timeout:woodmart_settings.pjax_timeout,url:e.attr("action"),data:e.serialize(),scrollTo:!1,renderCallback:function(t,e,a){woodmartThemeModule.removeDuplicatedStylesFromHTML(e,function(e){t.html(e),a(),woodmartThemeModule.$document.trigger("wdShopPageInit"),woodmartThemeModule.$document.trigger("wood-images-loaded")})}}),e.find(".wd-pf-btn button, .filter_price_slider_amount button").prop("disabled",!0))}var e=c(".wd-pf-checkboxes"),t=(e.on("click",".selected-value",function(){var e,t,a,r=c(this),i=r.parents(".wd-pf-checkboxes"),d=i.find(".result-input"),o=r.data("title");"price-filter"===o?(e=r.data("min"),t=r.data("max"),(a=i.find(".price_slider_widget")).slider("values",0,e),a.slider("values",1,t),i.find(".min_price").val(""),i.find(".max_price").val(""),0===c(".wd-product-filters .wd-pf-btn button").length&&s(r.parents(".wd-product-filters")),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[e,t,e,t,a])):(n(d,o),i.find('.pf-value[data-val="'+o+'"]').parent().removeClass("wd-active"),0===c(".wd-product-filters .wd-pf-btn button").length&&s(r.parents(".wd-product-filters")),r.remove())}),e.each(function(){var t=c(this),a=t.find(".wd-pf-title"),r=(a.siblings(".wd-pf-dropdown"),t.hasClass("multi_select")),i=(a.on("click",function(e){e=e.target;c(e).is(a.find(".selected-value"))||(t.hasClass("wd-opened")?i():(t.addClass("wd-opened"),setTimeout(function(){woodmartThemeModule.$document.trigger("wdProductFiltersOpened")},300)))}),woodmartThemeModule.$document.on("click",function(e){e=e.target;(!t.hasClass("wd-opened")||!r||c(e).is(t)||c(e).parents().is(t))&&(r||c(e).is(a)||c(e).parents().is(a))||i()}),function(){t.removeClass("wd-opened")})}),c(".wd-pf-checkboxes li > .pf-value").on("click",function(e){e.preventDefault();var e=c(this),t=e.parent(),a=e.parents(".wd-pf-checkboxes"),r=a.find(".result-input"),i=a.find(".wd-pf-results"),a=a.hasClass("multi_select"),d=r.val(),o=e.data("title"),l=e.data("val");a?t.hasClass("wd-active")?(n(r,l),i.find('li[data-title="'+l+'"]').remove(),t.removeClass("wd-active")):(""===d?r.val(l):r.val(d+","+l),i.prepend('<li class="selected-value" data-title="'+l+'">'+o+"</li>"),t.addClass("wd-active")):t.hasClass("wd-active")?(r.val(""),i.find(".selected-value").remove(),t.removeClass("wd-active")):(r.val(l),i.find(".selected-value").remove(),i.prepend('<li class="selected-value" data-title="'+l+'">'+o+"</li>"),t.parents(".wd-scroll-content").find(".wd-active").removeClass("wd-active"),t.addClass("wd-active")),0===c(".wd-product-filters .wd-pf-btn button").length&&s(e.parents(".wd-product-filters"))}),function(t){t.find(".wd-pf-checkboxes").each(function(){var e=c(this);0<e.find('input[type="hidden"]').length&&!e.find('input[type="hidden"]').val()?e.find('input[type="hidden"]').remove():e.hasClass("wd-pf-categories")&&!e.find(".wd-pf-results .selected-value").length&&t.attr("action",woodmart_settings.shop_url)})}),a=function(e){var t=e.find(".wd-pf-categories .wd-active .pf-value");0<t.length&&e.attr("action",t.attr("href"))};woodmartThemeModule.$body.on("filter_price_slider_create filter_price_slider_slide",function(e,t,a,r,i,d){var o=accounting.formatMoney(t,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),l=accounting.formatMoney(a,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),d=(d.siblings(".filter_price_slider_amount").find("span.from").html(o),d.siblings(".filter_price_slider_amount").find("span.to").html(l),d.parents(".wd-pf-checkboxes").find(".wd-pf-results")),n=d.find(".selected-value");t===r&&a===i?n.remove():0===n.length?d.prepend('<li class="selected-value" data-title="price-filter" data-min="'+r+'" data-max="'+i+'">'+o+" - "+l+"</li>"):n.html(o+" - "+l),woodmartThemeModule.$body.trigger("price_slider_updated",[t,a])}),c(".wd-pf-price-range .price_slider_widget").each(function(){var a=c(this),r=a.siblings(".filter_price_slider_amount").find(".min_price"),i=a.siblings(".filter_price_slider_amount").find(".max_price"),d=parseInt(r.data("min")),o=parseInt(i.data("max")),e=parseInt(r.val()),t=parseInt(i.val());c(".price_slider_widget, .price_label").show(),a.slider({range:!0,animate:!0,min:d,max:o,values:[e,t],create:function(){e===d&&t===o&&(r.val(""),i.val("")),woodmartThemeModule.$body.trigger("filter_price_slider_create",[e,t,d,o,a])},slide:function(e,t){t.values[0]===d&&t.values[1]===o?(r.val(""),i.val("")):(r.val(t.values[0]),i.val(t.values[1])),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[t.values[0],t.values[1],d,o,a])},change:function(e,t){woodmartThemeModule.$body.trigger("price_slider_change",[t.values[0],t.values[1]])}})}),woodmartThemeModule.$document.on("click",".wd-product-filters .wd-pf-btn button, .wd-product-filters .filter_price_slider_amount button",function(){var e=c(this).parents(".wd-product-filters");s(e)}),c(".wd-pf-checkboxes .wd-active > .pf-value").each(function(){var e=c(this);e.parents(".wd-pf-checkboxes").find(".wd-pf-results").prepend('<li class="selected-value" data-title="'+e.data("val")+'">'+e.data("title")+"</li>")})},c(document).ready(function(){woodmartThemeModule.productFilters()}),window.addEventListener("popstate",function(){woodmartThemeModule.productFilters()})}(jQuery);