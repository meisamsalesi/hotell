!function(r){woodmartThemeModule.$document.on("wdReplaceMainGallery",function(){woodmartThemeModule.productImagesGallery(!0)}),r.each(["frontend/element_ready/wd_single_product_gallery.default"],function(e,o){woodmartThemeModule.wdElementorAddAction(o,function(e){woodmartThemeModule.productImagesGallery(),e.find(".woocommerce-product-gallery").css("opacity","1")})}),woodmartThemeModule.productImagesGallery=function(n=!1){woodmartThemeModule.setupMainCarouselArg(),r(".woocommerce-product-gallery").each(function(){var i,o,t=r(this),a=t.find(".woocommerce-product-gallery__wrapper:not(.quick-view-gallery)"),d=t.find(".thumbnails"),s=a.find(".wp-post-image").first();function e(){void 0!==r.fn.owlCarousel&&(woodmartThemeModule.$document.trigger("wood-images-loaded"),a.trigger("destroy.owl.carousel"),a.addClass("owl-carousel wd-owl").owlCarousel(woodmartThemeModule.mainCarouselArg))}function l(){var e,o=d.data("vertical_items");s.hasClass("wd-lazy-load")&&!s.attr("data-loaded")||(d.hasClass("wd-v-thumb-default")||d.hasClass("wd-height-calculated")||!t.hasClass("wd-has-thumb")||(e=a.height(),"undefined"!=typeof elementorFrontend&&elementorFrontend.isEditMode()&&(e=a.find(".wp-post-image").height()),d.css("--wd-slick-h",e+"px"),d.addClass("wd-height-calculated")),d.slick({slidesToShow:o,slidesToScroll:o,vertical:!0,verticalSwiping:!0,infinite:!1,listHeight:100,adaptiveHeight:!0}),d.on("afterChange",function(){woodmartThemeModule.$document.trigger("wood-images-loaded")}),d.on("click",".product-image-thumbnail",function(){a.trigger("to.owl.carousel",r(this).index())}),a.on("changed.owl.carousel",function(e){e=e.item.index;d.slick("slickGoTo",e),d.find(".active-thumb").removeClass("active-thumb"),d.find(".product-image-thumbnail").eq(e).addClass("active-thumb")}),d.find(".product-image-thumbnail").eq(0).addClass("active-thumb"),d.imagesLoaded(function(){d.slick("setPosition")}))}d.addClass("thumbnails-ready"),(t.hasClass("thumbs-position-without")||t.hasClass("thumbs-position-centered")||t.hasClass("thumbs-position-bottom")||t.hasClass("thumbs-position-left")||t.hasClass("thumbs-position-carousel_two_columns")||woodmartThemeModule.$window.width()<=1024&&(t.hasClass("thumbs-position-bottom_combined")||t.hasClass("thumbs-position-bottom_column")||t.hasClass("thumbs-position-bottom_grid")))&&("yes"===woodmart_settings.product_slider_auto_height?t.imagesLoaded(function(){e()}):e()),0!==d.length&&(n&&(i="",a.find(".woocommerce-product-gallery__image").each(function(){var e=r(this),o=e.data("thumb"),t=e.find("a img").attr("alt"),a=e.find("a img").attr("title"),d="";!a&&e.find("a picture").length&&(a=e.find("a picture").attr("title")),e.find(".wd-product-video").length&&(d+=" wd-with-video"),i=(i+='<div class="product-image-thumbnail'+d+'">')+'<img alt="'+t+'" title="'+a+'" src="'+o+'" /></div>'}),d.hasClass("slick-slider")?d.slick("unslick"):d.hasClass("owl-carousel")&&d.trigger("destroy.owl.carousel"),d.empty(),d.append(i)),t.hasClass("thumbs-position-left")&&1024<woodmartThemeModule.$body.width()&&void 0!==r.fn.slick?l():void 0!==r.fn.owlCarousel&&(d.addClass("owl-carousel").owlCarousel({rtl:woodmartThemeModule.$body.hasClass("rtl"),items:d.data("desktop"),responsive:{1025:{items:d.data("desktop")},769:{items:d.data("tablet")},577:{items:d.data("tablet")},0:{items:d.data("mobile")}},dots:!1,nav:!0,navText:!1,navClass:["owl-prev wd-btn-arrow","owl-next wd-btn-arrow"]}),o=d.owlCarousel(),d.on("mouseup",".owl-item",function(){var e=r(this).index();o.trigger("to.owl.carousel",e),a.trigger("to.owl.carousel",e)}),a.on("changed.owl.carousel",function(e){e=e.item.index;o.trigger("to.owl.carousel",e),d.find(".active-thumb").removeClass("active-thumb"),d.find(".product-image-thumbnail").eq(e).addClass("active-thumb")}),d.find(".product-image-thumbnail").eq(0).addClass("active-thumb"))),s.on("load",function(){s.hasClass("wd-lazy-load")&&t.hasClass("thumbs-position-left")&&!s.attr("data-loaded")&&1024<woodmartThemeModule.$body.width()&&void 0!==r.fn.slick&&(d.hasClass("slick-slider")&&d.slick("unslick"),s.attr("data-loaded",!0),l())})})},woodmartThemeModule.$window.on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&woodmartThemeModule.$window.on("resize",woodmartThemeModule.debounce(function(){woodmartThemeModule.productImagesGallery()},300))}),r(document).ready(function(){woodmartThemeModule.productImagesGallery()})}(jQuery);